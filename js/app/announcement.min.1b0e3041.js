define(function(e,n,t){n.init=function(n){e(["announcement.module.daterangepicker"],function(e){e.daterangepicker(n.find('input[name="announcement_date"]'))}),e(["announcement.module.summernote","announcement.module.action"],function(e,t){summernote=e.summernote(n.find("#summernote")),preview=t.preview(n,summernote),del=t.delete(n)})}}),define("announcement.module.daterangepicker",["moment","daterangepicker"],function(){return{daterangepicker:function(e){e.each(function(e,n){var t=$(window).width()-($(n).offset().left+$(n).outerWidth())<290?"left":"right";$(n).daterangepicker({opens:t,timePicker:!0,locale:{format:"DD/MM/YYYY hh:mm A"}})})}}}),define("announcement.module.summernote",["summernote"],function(e){return{summernote:function(e){return e.summernote({height:300,toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["insert",["link"]]]})}}}),define("announcement.module.action",["sweetalert2","mustache"],function(e,n){return{preview:function(t,o){t.on("click",".btn-preview",function(i){e.fire({title:n.render("{{ title }}",{title:t.find("input[name=title]").val()}),html:o.summernote("code"),width:1e3,padding:"0px",animation:!1,customClass:"swal2-announcement",confirmButtonText:'<i class="fa fa-times"></i> Close',confirmButtonColor:"#f35958",confirmButtonClass:"btn btn-sm btn-danger"})})},delete:function(n){n.on("click",".btn-delete-announcement",function(n){e.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#333",confirmButtonText:"Yes, delete it!",allowOutsideClick:function(){return!e.isLoading()}}).then(function(n){n.value&&(e.showLoading(),$.ajax({type:"DELETE",success:function(n){e.fire({position:"top-end",icon:"success",title:"Deleted",text:"Data has been deleted.",showConfirmButton:!1,timer:3e3}).then(function(e){var n=$("meta[name=index_uri]").attr("content");null==window.opener||window.opener.closed||"function"!=typeof window.opener.closeMe?up.visit(n):window.opener.closeMe(window.name)})}}))})})}}});

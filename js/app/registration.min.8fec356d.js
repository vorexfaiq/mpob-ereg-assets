define(function(e,t,n){t.init=function(t){e(["registration.module.datepicker"],function(e){e.datepicker(t.find(".simple_date"))}),e(["registration.module.monthpicker"],function(e){e.monthpicker(t.find(".input-datemonth"))}),e(["registration.module.contract-datepicker"],function(e){e.contractdatepicker(t.find('input[name="contract_date"]'))}),e(["registration.module.simpleselect"],function(e){e.simpleselect(t.find(".simple-select"))}),e(["registration.module.selectproducts"],function(e){e.selectproducts(t.find("#select-product2")),e.selectproductbycode(t.find("#select-product-by-code")),e.selectallproductbycode(t.find("#select-all-product-by-code"))}),e(["registration.module.selectpackings"],function(e){e.selectpackings(t.find("#select-packing"))}),e(["registration.module.selectlicensee"],function(e){e.selectlicensee(t.find(".select-licensee"))}),e(["registration.module.nonlicensee"],function(e){e.nonlicensee(t)}),e(["registration.module.selectcurrencies"],function(e){e.selectcurrencies(t.find("#select-currency")),e.selectcurrencybycode(t.find("#select-currency-by-code"))}),e(["registration.module.selectbasis"],function(e){e.selectbasis(t.find("#select-basis"))}),e(["registration.module.selectregions"],function(e){e.selectregions(t.find("#select-region"))}),e(["registration.module.selectports"],function(e){e.done(function(e){e.selectports(t.find(".select-port")),e.selectportsbycode(t.find(".select-port-by-code")),e.selectmyports(t.find(".select-my-port")),e.selectmyportsbycode(t.find(".select-my-port-by-code"))})}),e(["registration.module.selectcompany"],function(e){e.selectcompany(t.find("#select-company"))}),e(["registration.module.selectroles"],function(e){e.selectroles(t.find("#select-role"))}),e(["registration.module.selectstates"],function(e){e.selectstates(t.find(".select-state")),e.selectstatesbycode(t.find(".select-state-by-code"))}),e(["registration.module.email"],function(e){e.email($(".btn-email"))}),e(["registration.module.action"],function(e){e.delete(t.find(".btn-delete")),e.reject(t.find(".btn-reject")),e.remove(t.find(".btn-remove")),e.same_address(t.find(".btn-same-address"))}),e(["registration.module.alert"],function(e){e.alert(t)}),e(["registration.module.audit"],function(e){e.audit($(".btn-audit"))}),$(document).on("submit","form[method=POST]",function(e){$(e.currentTarget).find("[type=submit]").css("pointer-events","none")}),$(document).on("click",".btn-clear",function(e){$(e.currentTarget).siblings("select").val("").trigger("change"),$(e.currentTarget).siblings("input.decimal").val("0.0000").trigger("change")})}}),define("registration.module.contract-datepicker",["moment","daterangepicker","sweetalert2"],function(e,t,n){return{contractdatepicker:function(t){if(t.daterangepicker({singleDatePicker:!0,minYear:1990,locale:{format:"DD/MM/YYYY"}}),t.on("hide.daterangepicker",function(i,a){$(i.currentTarget).blur();var r=$(i.currentTarget).val();if(e(r,"DD/MM/YYYY")<e().subtract(2,"d").set({hour:15,minute:0,second:0})&&n.fire({title:"Late Submission",icon:"warning"}),t.data("apply-start-date-to-datepicker")){var o=$(".input-datemonth").val();e("01/"+o,"DD/MM/YYYY").add(1,"month")<=e(r,"DD/MM/YYYY")&&$(".input-datemonth").datepicker("setDate",e(r,"DD/MM/YYYY").format("MM/YYYY")),$(".input-datemonth").datepicker("setStartDate",e(r,"DD/MM/YYYY").format("MM/YYYY"))}}),t.data("apply-start-date-to-datepicker")){var i=t.val(),a=$(".input-datemonth").val();e("01/"+a,"DD/MM/YYYY").add(1,"month")<=e(i,"DD/MM/YYYY")&&$(".input-datemonth").datepicker("setDate",e(i,"DD/MM/YYYY").format("MM/YYYY")),$(".input-datemonth").datepicker("setStartDate",e(i,"DD/MM/YYYY").format("MM/YYYY"))}}}}),define("registration.module.datepicker",["moment","daterangepicker"],function(){return{datepicker:function(e){e.daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1990,locale:{format:"DD/MM/YYYY"}})}}}),define("registration.module.monthpicker",["moment","datepicker"],function(){return{monthpicker:function(e){e.datepicker({format:"mm/yyyy",minViewMode:1,maxViewMode:2})}}}),define("registration.module.simpleselect",["select2"],function(e){return{simpleselect:function(e){e.each(function(e,t){var n=$(t).select2({minimumResultsForSearch:10});n.val(n.data("value")).trigger("change")})}}}),define("registration.module.selectbasis",["registration.module.selectstates","select2","cache"],function(e,t,n){return{selectbasis:function(e){n("basis","/filter/basis").done(function(t){e.select2({data:$.map(t,function(e){return e.id=e.code,e.text=e.code+" - "+e.description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?"00"==e.code?e.description:e.code:e.text}}).on("select2:select",function(e){var t=e.params.data;["CIF","CFR","CNF"].includes(t.id)?$("#fob-price").prop("readonly",!1):$("#fob-price").val("0.0000").prop("readonly",!0),"LTC"==t.id&&$("select[name=payment_type]").val("EC").trigger("change"),$("select[name=delivery_location]").trigger("abilities")});e.val(e.data("value")).trigger("change"),$("select[name=delivery_location]").trigger("abilities")})}}}),define("registration.module.selectcurrencies",["select2","cache"],function(e,t){return{selectcurrencies:function(e){t("currencies","/filter/currencies").done(function(t){var n=e.select2({data:$.map(t,function(e){return e.id=e.id||e.code,e.text=e.code+" - "+e.description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code:e.text}});$(n).val($(n).data("value")).trigger("change")})},selectcurrencybycode:function(e){t("currencies","/filter/currencies").done(function(t){var n=e.select2({data:$.map(t,function(e){return e.id=e.code,e.text=e.code+" - "+e.description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code:e.text}});$(n).val($(n).data("value")).trigger("change")})}}}),define("registration.module.selectlicensee",["select2","cache"],function(e,t){return{selectlicensee:function(e){var t=null,n=e.select2({ajax:{id:"id",url:"/filter/licensees",dataType:"json",delay:250,data:function(e){return{search:e.term,page:e.page||1}},processResults:function(n,i){i.page=i.page||1;var a="seller"==t.data("search-type")?e.filter('[data-search-type="buyer"]').val():e.filter('[data-search-type="seller"]').val();return 1==e.data("show-frequent")&&n.data.length<=1?(n.data.length>0&&n.data[0].id==e.data("self-id")||0===n.data.length)&&0===$("span.select2-results__option.select2-results__message").length&&$("<span />",{class:"select2-results__option select2-results__message"}).html('No more result found. Please update your <a href="/my-frequents/traders" target="_blank">Frequent Traders</a>.').appendTo(".select2-results"):$(".select2-results").find("span.select2-results__option.select2-results__message").remove(),n.data=$.map(n.data,function(e){return e.id==a&&(e.disabled=!0),e.text=e.last_license_no?e.last_license_no.license_no+" - "+e.company_name:e.company_name,e}),{results:n.data,pagination:{more:50*i.page<n.total}}},cache:!1},minimumInputLength:1==e.data("all")?0:3,dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:"<div>"+(null!==e.last_license_no?'<span class="license-no">'+e.last_license_no.license_no+'</span> - <span class="name">'+e.company_name+"</span></div>":'<span class="name">'+e.company_name+"</span></div>")},templateSelection:function(e){return e.last_license_no?e.last_license_no.license_no+" - "+e.company_name:""==e.text?e.company_name:e.text},language:{noResults:function(){return 1==e.data("show-frequent")?"":"No results found."}}}).on("select2:open",function(e){t=$(e.currentTarget)});$(".licensee").find(".select2-container").on("click",function(e){$(e.currentTarget).parent().find("select").select2("open")}),n.each(function(e,t){if($(t).data("value")){var n=$(t).data("value");n!==$(t).data("self-id")?$.getJSON("/filter/licensees?company="+n,function(e){var i=new Option(e.lastLicenseNo?e.lastLicenseNo.license_no+" - "+e.company_name:e.company_name,n,!1,!1);$(t).append(i).val(n).trigger("change")}):0==$(t).closest(".locked").length&&$(t).val("").trigger("change")}})}}}),define("registration.module.selectnonlicensee",["autocomplete","cache"],function(e,t){return{selectnonlicensee:function(e){$(function(){e.autocomplete({minLength:3,titleKey:"title",valueKey:"title",openOnFocus:!1,source:[{url:"/filter/nonlicensees?search=%QUERY%",type:"remote"}]}).on("selected.xdsoft",function(e,t){})})}}}),define("registration.module.nonlicensee",["registration.module.selectlicensee","registration.module.selectnonlicensee","registration.module.selectstates"],function(e,t,n){return{nonlicensee:function(e){var t=$('input[name="non_mpob"]:checked').val();"seller"==t&&(e.find('.select-non-licensee[name="seller-nl"]').autocomplete({minLength:3,titleKey:"title",valueKey:"title",openOnFocus:!1,source:[{url:"/filter/nonlicensees?search=%QUERY%",type:"remote"}]}),$("select[name=delivery_location]").trigger("abilities"),e.find("input[name=non_mpob][value=seller]")[0].previous=!0),"buyer"==t&&(e.find('.select-non-licensee[name="buyer-nl"]').autocomplete({minLength:3,titleKey:"title",valueKey:"title",openOnFocus:!1,source:[{url:"/filter/nonlicensees?search=%QUERY%",type:"remote"}]}),$("select[name=delivery_location]").trigger("abilities"),e.find("input[name=non_mpob][value=buyer]")[0].previous=!0),e.find("input[name=non_mpob]").on("click",function(n){var i=$(n.currentTarget).val();this.previous&&t==i&&(this.checked=!1,i=null),this.previous=this.checked,t=i,"seller"==i?(e.find('.select-non-licensee[name="seller-nl"]').autocomplete({minLength:3,titleKey:"title",valueKey:"title",openOnFocus:!1,source:[{url:"/filter/nonlicensees/?search=%QUERY%",type:"remote"}]}),e.find('.select-non-licensee[name="seller-nl"]').focus()):"buyer"==i?(e.find('.select-non-licensee[name="buyer-nl"]').autocomplete({minLength:3,titleKey:"title",valueKey:"title",openOnFocus:!1,source:[{url:"/filter/nonlicensees/?search=%QUERY%",type:"remote"}]}),e.find('.select-non-licensee[name="buyer-nl"]').focus()):require(["registration.module.selectlicensee"],function(e){var t=$(n.currentTarget).siblings(".select-licensee");e.selectlicensee(t),t.val()==t.data("self-id")&&(t.find("option").length>1?t.find("option").each(function(e,n){if($(n).val()!==t.data("self-id"))return t.val($(n).val()).trigger("change"),!1}):t.val("").trigger("change"))}),$("select[name=delivery_location]").trigger("abilities")}),e.find("[data-interchange=true]").length>0&&$("input[type=radio][name=contract_type]").on("change",function(e){var n=$(e.currentTarget).val();$(".licensee > [data-type]").removeClass("locked"),$(".licensee > [data-type="+n+"]").addClass("locked");var i=$("input[type=radio][name=non_mpob]:checked").val();if(void 0!==i)if("buyer"==i){var a=$("select[name=seller]").select2("data"),r=$("input[name=buyer-nl]").val();$("input[type=radio][name=non_mpob][value=seller]").trigger("click"),$("input[name=seller-nl]").val(r);var o=new Option(a[0].text,a[0].id,!1,!1);$("select[name=buyer]").append(o).trigger("change"),$("select[name=buyer]").val(a[0].id).trigger("change"),$("select[name=seller]").val(null).trigger("change"),$("input[name=buyer-nl]").val(null),i="seller",(l=$(".lock-check[data-type=S]").find("select[name=seller]")).length>0&&l.val(l.data("self-id"))}else{var c=$("select[name=buyer]").select2("data"),s=$("input[name=seller-nl]").val();$("input[type=radio][name=non_mpob][value=buyer]").trigger("click"),$("input[name=buyer-nl]").val(s);var l,u=new Option(c[0].text,c[0].id,!1,!1);$("select[name=seller]").append(u).trigger("change"),$("select[name=seller]").val(c[0].id).trigger("change"),$("select[name=buyer]").val(null).trigger("change"),$("input[name=seller-nl]").val(null),i="buyer",(l=$(".lock-check[data-type=P]").find("select[name=buyer]")).length>0&&l.val(l.data("self-id"))}else{a=$("select[name=seller]").select2("data"),c=$("select[name=buyer]").select2("data");if(a.length>0){o=new Option(a[0].text,a[0].id,!1,!1);$("select[name=buyer]").append(o).trigger("change"),$("select[name=buyer]").val(a[0].id).trigger("change")}else $("select[name=buyer]").val(null).trigger("change");if(c.length>0){u=new Option(c[0].text,c[0].id,!1,!1);$("select[name=seller]").append(u).trigger("change"),$("select[name=seller]").val(c[0].id).trigger("change")}else $("select[name=seller]").val(null).trigger("change")}t=i})}}}),define("registration.module.selectpackings",["select2","cache"],function(e,t){return{selectpackings:function(e){t("packing","/filter/packing").done(function(t){var n=e.select2({data:$.map(t,function(e){return e.id=e.code,e.text=e.code+" - "+e.description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.description:e.text}});$(n).val($(n).data("value")).trigger("change")})}}}),define("registration.module.selectports",["select2","cache","store2"],function(e,t,n){var a=$.Deferred();return t("ports","/filter/ports").done(function(e){var t=$.map($.extend(!0,[],e),function(e){return e.id}).sort().join(",");a.resolve({selectports:function(a){var r=$.grep($.extend(!0,[],e),function(e){return a.data("show-frequent")?null!==e.frequent_id:"MALAYSIA"!==e.country_name}),o=a.select2({data:$.map(r,function(e){return e.text=e.code+" - "+e.name,e}),placeholder:"Select a port",dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="description">'+e.name+"</span></div>"},templateSelection:function(e){return e.code?e.name:e.text},language:{noResults:function(){return'No Results Found. Please update your <a href="/my-frequents/ports" target="_blank">Frequent Ports</a>.'}},matcher:function(e,t){if(void 0===e.term)return t;var n=t.text.split(" - ");for(i=0;i<n.length;i++)if(0===n[i].toUpperCase().indexOf(e.term.toUpperCase()))return t;return null}});$(o).val($(o).data("value")).trigger("change"),o.on("select2:opening",function(e){var i=n.get("ports"),a=$.map(i,function(e){return e.id}).sort().join(",");if(t!==a){o.html("");var r=$.grep(i,function(e){return null!==e.frequent_id}),c=o.data("select2").dataAdapter;c.addOptions(c.convertToOptions(r)),t=a}})},selectmyports:function(a){var r=$.grep($.extend(!0,[],e),function(e){return"MALAYSIA"==e.country_name}),o=a.select2({data:$.map(r,function(e){return e.text=e.code+" - "+e.name,e}),placeholder:"Select a port",dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="description">'+e.name+"</span></div>"},templateSelection:function(e){return e.code?e.name:e.text},matcher:function(e,t){if(void 0===e.term)return t;var n=t.text.split(" - ");for(i=0;i<n.length;i++)if(0===n[i].toUpperCase().indexOf(e.term.toUpperCase()))return t;return null}});$(o).val($(o).data("value")).trigger("change"),o.on("select2:opening",function(e){var i=n.get("ports"),a=$.map(i,function(e){return e.id}).sort().join(",");if(t!==a){o.html("");var r=$.grep(i,function(e){return"MALAYSIA"==e.country_name}),c=o.data("select2").dataAdapter;c.addOptions(c.convertToOptions(r)),t=a}})},selectportsbycode:function(a){var r=e,o=a.select2({data:$.map(r,function(e){return e.id=e.id,e.text=e.code+" - "+e.name,e}),placeholder:"Select a port",dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="description">'+e.name+"</span></div>"},templateSelection:function(e){return e.code?e.name:e.text},matcher:function(e,t){if(void 0===e.term)return t;var n=t.text.split(" - ");for(i=0;i<n.length;i++)if(0===n[i].toUpperCase().indexOf(e.term.toUpperCase()))return t;return null}});$(o).val($(o).data("value")).trigger("change"),o.on("select2:opening",function(e){var i=n.get("ports"),a=$.map(i,function(e){return e.id}).sort().join(",");if(t!==a){o.html("");var r=$.grep(i,function(e){return null!==e.frequent_id});r=$.map(r,function(e){return{id:e.code,code:e.code,name:e.name}});var c=o.data("select2").dataAdapter;c.addOptions(c.convertToOptions(r)),t=a}})},selectmyportsbycode:function(a){var r=$.grep($.extend(!0,[],e),function(e){return"MALAYSIA"==e.country_name}),o=a.select2({data:$.map(r,function(e){return e.id=e.code,e.text=e.code+" - "+e.name,e}),placeholder:"Select a port",dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="description">'+e.name+"</span></div>"},templateSelection:function(e){return e.code?e.name:e.text},matcher:function(e,t){if(void 0===e.term)return t;var n=t.text.split(" - ");for(i=0;i<n.length;i++)if(0===n[i].toUpperCase().indexOf(e.term.toUpperCase()))return t;return null}});$(o).val($(o).data("value")).trigger("change"),o.on("select2:opening",function(e){var i=n.get("ports"),a=$.map(i,function(e){return e.id}).sort().join(",");if(t!==a){o.html("");var r=$.grep(i,function(e){return"MALAYSIA"==e.country_name});r=$.map(r,function(e){return{id:e.code,code:e.code,name:e.name}});var c=o.data("select2").dataAdapter;c.addOptions(c.convertToOptions(r)),t=a}})}})}),a.promise()}),define("registration.module.selectproducts",["select2","cache","sweetalert2"],function(e,t,n){return{selectproducts:function(e){t("products","/filter/products").done(function(n){var i=e.select2({data:$.map(n,function(e){return e.id=e.id||e.code,e.text=e.code+" - "+e.short_description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="code">'+e.code+'</span> - <span class="short_description">'+e.short_description+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code+" - "+e.description:e.text},language:{noResults:function(){return'No Results Found. Please update your <a href="/my-frequents/products" target="_blank">Frequent Products</a>.'}}}),a=$(i).data("value");if(void 0!==a&&""!==a){var r=n.find(function(e){return e.id==a});void 0!==r?$(i).val(r.id).trigger("change"):$.getJSON("/filter/products",{id:a},function(e){var t=new Option(e.code+" - "+e.description,e.id,!1,!1);$(i).append(t).val(a).trigger("change")})}else t("defaults","/filter/defaults").done(function(e){var t=e.product.id;if($(i).find('option[value="'+t+'"]').length>0)var n=$(i).find('option[value="'+t+'"]').val();else n=$(i).find("option:first").val();$(i).val(n).trigger("change")})})},selectproductbycode:function(e){t("products","/filter/products").done(function(t){var n=e.select2({data:$.map(t,function(e){return e.id=e.code,e.text=e.code+" - "+e.short_description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:void 0!==e.code?'<div><span class="code">'+e.code+'</span> - <span class="short_description">'+e.short_description+'</span> - <span class="description">'+e.description+"</span></div>":'<div><span class="code">'+e.id+'</span> - <span class="description">'+e.text.split(" - ")[1]+"</span></div>"},templateSelection:function(e){return e.code?e.code+" - "+e.description:e.id+" - "+e.text.split(" - ")[1]},language:{noResults:function(){return'No Results Found. Please update your <a href="/my-frequents/products" target="_blank">Frequent Products</a>.'}}}),i=$(n).data("value");if(void 0!==i){var a=t.find(function(e){return e.code==i});void 0!==a?$(n).val(a.code).trigger("change"):$.getJSON("/filter/products",{code:i},function(e){var t=new Option(e.code+" - "+e.description,e.code,!1,!1);$(n).append(t).val(i).trigger("change")})}})},selectallproductbycode:function(e){t("allproducts","/filter/allproducts").done(function(t){var n=e.select2({data:$.map(t,function(e){return e.id=e.code,e.text=e.code+" - "+e.short_description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:void 0!==e.code?'<div><span class="code">'+e.code+'</span> - <span class="short_description">'+e.short_description+'</span> - <span class="description">'+e.description+"</span></div>":'<div><span class="code">'+e.id+'</span> - <span class="description">'+e.text.split(" - ")[1]+"</span></div>"},templateSelection:function(e){return e.code?e.code+" - "+e.description:e.id+" - "+e.text.split(" - ")[1]}}),i=$(n).data("value");if(void 0!==i){var a=t.find(function(e){return e.code==i});void 0!==a?$(n).val(a.code).trigger("change"):$.getJSON("/filter/allproducts",{code:i},function(e){var t=new Option(e.code+" - "+e.description,e.code,!1,!1);$(n).append(t).val(i).trigger("change")})}})}}}),define("registration.module.selectregions",["select2","cache"],function(e,t){return{selectregions:function(e){t("regions","/filter/regions").done(function(t){e.select2({dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code+" - "+e.description:e.text},data:$.map(t,function(e){return e.id=e.id||e.code,e.text=e.code+" "+e.description+" "+e.short_description,e})})})}}}),define("registration.module.selectcompany",["select2","cache"],function(e,t){return{selectcompany:function(e){$("input[type=radio][name=contract_type]").on("change",function(e){var t=$("input[type=radio][name=contract_type]:checked").val(),n=$('input[name="company_licno"]').val(),i=$('input[name="company_name"]').val(),a=$('input[name="company_id"]').val();if("P"==t){$("#select-seller").val(null).trigger("change");var r=new Option(n+" - "+i,a,!0,!0);$("#select-buyer").append(r).trigger("change"),$("#select-buyer").val(a).trigger("change")}else{$("#select-buyer").val(null).trigger("change");r=new Option(n+" - "+i,!0,!0);$("#select-seller").append(r).trigger("change"),$("#select-seller").val(a).trigger("change")}})}}}),define("registration.module.selectroles",["select2","cache"],function(e,t){return{selectroles:function(e){e.hasClass("superroles")?t("superroles","/filter/superroles").done(function(t){var n=e.select2({placeholder:"Please select",dropdownAutoWidth:!0,minimumResultsForSearch:-1,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="description">'+e.text+"</span></div>"},templateSelection:function(e){return e.text},data:t});n.data("value")&&n.val(n.data("value")).trigger("change")}):t("roles","/filter/roles").done(function(t){var n=e.select2({placeholder:"Please select",dropdownAutoWidth:!0,minimumResultsForSearch:-1,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="description">'+e.text+"</span></div>"},templateSelection:function(e){return e.text},data:t});n.data("value")&&n.val(n.data("value")).trigger("change")})}}}),define("registration.module.selectstates",["select2","cache"],function(e,t){return{selectstates:function(e){t("states","/filter/states").done(function(t){e.each(function(e,n){var i=$(n).select2({data:$.map(t,function(e){return e.id=e.id||e.code,e.text=e.description,e}),dropdownAutoWidth:!0});$(i).val($(i).data("value")).trigger("change"),$(n).on("abilities",function(e){var t=$('input[name="non_mpob"]:checked').val(),n=$('select[name="price_basis"]').val();void 0!==t?$(e.currentTarget).prop("disabled",!0).val("").trigger("change"):["CPT","CNF","CIP","CIF","CFR","CFO"].includes(n)?$(e.currentTarget).prop("disabled",!0).val("").trigger("change"):$(e.currentTarget).prop("disabled",!1).trigger("change")})})})},selectstatesbycode:function(e){t("states","/filter/states").done(function(t){e.each(function(e,n){var i=$(n).select2({data:$.map(t,function(e){return e.id=e.code,e.text=e.description,e}),dropdownAutoWidth:!0});$(i).val($(i).data("value")).trigger("change"),$(n).on("abilities",function(e){var t=$('input[name="non_mpob"]:checked').val(),n=$('select[name="price_basis"]').val();void 0!==t?$(e.currentTarget).prop("disabled",!0).val("").trigger("change"):["CPT","CNF","CIP","CIF","CFR","CFO"].includes(n)?$(e.currentTarget).prop("disabled",!0).val("").trigger("change"):$(e.currentTarget).prop("disabled",!1).trigger("change")})})})}}}),define("registration.module.email",["sweetalert2","select2","cache","summernote"],function(e,t,n,i){return{email:function(t){t.on("click",function(t){t.preventDefault();var n=$(".form-layout form").data("id");$.ajax({url:"/contract-management/mailbox/"+n,type:"GET",success:function(t){e.fire({title:"Subject: "+$('input[name="contract_no"]').val(),html:t,input:"textarea",width:800,position:"bottom-end",padding:0,backdrop:!1,animation:!1,customClass:{container:"swal2-mailbox"},showCloseButton:!0,showCancelButton:!0,confirmButtonText:'<i class="fa fa-paper-plane"></i> Send',showLoaderOnConfirm:!0,cancelButtonText:'<i class="fa fa-times"></i> Cancel',reverseButtons:!0,allowOutsideClick:!1,preConfirm:function(t){if(""!=t)return $.ajax({url:"/contract-management/mailbox/"+n,type:"POST",data:{message:t},success:function(e){}});e.showValidationMessage("Message must not be empty")},onOpen:function(e){$(e).find("textarea.swal2-textarea").summernote({height:200,toolbar:[["style",["bold","italic","underline","clear"]],["para",["ul","ol","paragraph"]]],popover:{image:[],link:[],air:[]}})}}).then(function(t){t.value&&e.fire({title:"Success",html:"Email has been sent",icon:"success",position:"top-end",showConfirmButton:!1,timer:3e3})})}})})}}}),define("registration.module.action",["sweetalert2","select2","cache"],function(e,t,n){return{reject:function(t){t.on("click",function(t){t.preventDefault(),e.fire({title:"Are you sure?",icon:"warning",input:"textarea",html:'You won\'t be able to revert this! Please enter reject reason.<select class="form-control select-reject-reason"><option></option></select>',showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#333",confirmButtonText:"Yes, reject it!",allowOutsideClick:function(){return!e.isLoading()},onOpen:function(e){n("rejectreason","/filter/rejectreason").done(function(t){$(e).find("select.select-reject-reason").select2({data:$.map(t,function(e){return e.id=e.text,e}),escapeMarkup:function(e){return e},placeholder:"Predefined Reject Reason"}).on("select2:select",function(t){var n=$(e).find("textarea");n.val(n.val()+t.params.data.text+". "),$(e).find("select.select-reject-reason").val("").change()})})}}).then(function(t){t.value&&(e.showLoading(),$.ajax({type:"DELETE",data:{reason:t.value},success:function(t){e.fire({position:"top-end",icon:"success",title:"Rejected",text:"User has been rejected.",showConfirmButton:!1,timer:3e3}).then(function(e){var t=$("meta[name=index_uri]").attr("content");null==window.opener||window.opener.closed||"function"!=typeof window.opener.closeMe?up.visit(t):window.opener.closeMe(window.name)})}}))})})},remove:function(t){t.on("click",function(t){t.preventDefault(),e.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#333",confirmButtonText:"Yes, delete it!",allowOutsideClick:function(){return!e.isLoading()}}).then(function(t){t.value&&(e.showLoading(),$.ajax({type:"DELETE",success:function(t){e.fire({position:"top-end",icon:"success",title:"Removed",text:"User has been removed.",showConfirmButton:!1,timer:3e3}).then(function(e){var t=$("meta[name=index_uri]").attr("content");null==window.opener||window.opener.closed||"function"!=typeof window.opener.closeMe?up.visit(t):window.opener.closeMe(window.name)})}}))})})},delete:function(t){t.on("click",function(t){t.preventDefault(),e.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#333",confirmButtonText:"Yes, delete it!",allowOutsideClick:function(){return!e.isLoading()}}).then(function(t){t.value&&(e.showLoading(),$.ajax({type:"DELETE",success:function(t){e.fire({position:"top-end",icon:"success",title:"Deleted",text:"Data has been deleted.",showConfirmButton:!1,timer:3e3}).then(function(e){var t=$("meta[name=index_uri]").attr("content");null==window.opener||window.opener.closed||"function"!=typeof window.opener.closeMe?up.visit(t):window.opener.closeMe(window.name)})}}))})})},same_address:function(e){e.on("click",function(e){$("input[name=mailing_address]").val($("input[name=premise_address]").val()),$("input[name=mailing_address2]").val($("input[name=premise_address2]").val()),$("input[name=mailing_postcode]").val($("input[name=premise_postcode]").val()),$("input[name=mailing_city]").val($("input[name=premise_city]").val()),$("select[name=mailing_state]").val($("select[name=premise_state]").val()).trigger("change"),$("input[name=mailing_tel_no]").val($("input[name=premise_tel_no]").val()),$("input[name=mailing_fax_no]").val($("input[name=premise_fax_no]").val())})}}}),define("registration.module.alert",["sweetalert2","select2","cache"],function(e,t,n){return{alert:function(t){t.on("click",'input[name="account_status"][readonly], input[name="login_status"][readonly]',function(t){return t.preventDefault(),e.fire("Disabled!","This option will automatically change to Valid after approve. You can only change this option after approved.","info"),!1})}}}),define("registration.module.audit",["sweetalert2","select2","cache","mustache"],function(e,t,n,i){return{audit:function(e){var t=$(".history-timeline script").html();e.on("click",function(n){e.hasClass("active")?window.location.href=window.location.pathname:$.getJSON(window.location.pathname+"/audits",function(n){if(n.length>0){$(".history-timeline").html(i.render(t,{audits:n}));var a=new URL(window.location.href);$('.history-timeline li[data-id="'+a.searchParams.get("history")+'"]').addClass("active"),$(".history-timeline li").each(function(e,t){$(t).find("a").attr("href",window.location.pathname+"?history="+$(t).data("id"))})}else $(".history-timeline").html('<span class="no-history">No log available.</span>');e.addClass("active")})}),void 0!==$(".history-timeline").data("history-id")&&e.trigger("click")}}});

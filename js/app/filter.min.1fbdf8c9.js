function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}define(function(e,t,n){t.init=function(t){e(["filter.module.monthpicker"],function(e){e.monthpicker(t.find(".simple-month"))}),e(["filter.module.yearpicker"],function(e){e.yearpicker(t.find(".simple-year"))}),e(["filter.module.datepicker"],function(e){e.datepicker(t.find(".simple-date"))}),e(["filter.module.daterangepicker"],function(e){e.daterangepicker(t.find("input.daterange"))}),e(["filter.module.simpleselect"],function(e){e.simpleselect(t.find(".simple-select"))}),e(["filter.module.groupselect"],function(e){e.groupselect(t.find(".select-one-per-group"))}),e(["filter.module.selectproducts"],function(e){e.selectproducts(t.find("#select-product2"))}),e(["filter.module.selectcurrencies"],function(e){e.selectcurrencies(t.find("#select-currency"))}),e(["filter.module.selectlicensee"],function(e){e.selectlicensee(t.find("#select-licensee"))}),e(["filter.module.selectusers"],function(e){e.selectusers(t.find("#select-users"))}),e(["filter.module.selectbasis"],function(e){e.selectbasis(t.find("#select-basis")),e.selectlocalbasis(t.find("#select-basis-local")),e.selectforeignbasis(t.find("#select-basis-foreign"))}),e(["filter.module.selectpackings"],function(e){e.selectpackings(t.find("#select-packing"))}),e(["filter.module.selectregions"],function(e){e.selectregions(t.find("#select-region")),e.selectregionsnoncontinent(t.find("#select-region-non-continent"))}),e(["filter.module.selectports"],function(e){e.selectports(t.find("#select-port"))}),e(["filter.module.selectroles"],function(e){e.selectroles(t.find("#select-role"))}),t.on("click",".btn-more",function(e){t.find(".more-filter").slideToggle()}),t.on("change",".auto-query input",function(e){t.find(".btn-query").trigger("click"),$(e.currentTarget).siblings().each(function(e,t){$("label[for='"+$(t).attr("id")+"']").removeClass("active")}),$("label[for='"+$(e.currentTarget).attr("id")+"']").addClass("active")})}}),define("filter.module.monthpicker",["moment","datepicker"],function(){return{monthpicker:function(e){e.datepicker({format:"mm/yyyy",minViewMode:1,maxViewMode:2})}}}),define("filter.module.yearpicker",["moment","datepicker"],function(){return{yearpicker:function(e){e.datepicker({format:"yyyy",minViewMode:2,maxViewMode:2})}}}),define("filter.module.datepicker",["moment","daterangepicker"],function(){return{datepicker:function(e){var t=e.daterangepicker({singleDatePicker:!0,timePicker:!0,showDropdowns:!0,minYear:1990,locale:{format:"DD/MM/YYYY",cancelLabel:$(e).data("drp-all")?"View All":"Cancel"},autoUpdateInput:!$(e).data("drp-all")});e.data("drp-all")&&$(t).on("show.daterangepicker",function(e,t){$(t.container).find(".calendar-time").hide()}).on("apply.daterangepicker",function(e,t){$(e.currentTarget).val(t.startDate.format("DD/MM/YYYY"))}).on("cancel.daterangepicker",function(e,t){$(e.currentTarget).val("")})}}}),define("filter.module.daterangepicker",["moment","daterangepicker"],function(){return{daterangepicker:function(e){e.each(function(e,t){var n=$(window).width()-($(t).offset().left+$(t).outerWidth())<290?"left":"right",r=$(t).daterangepicker({opens:n,locale:{format:"DD/MM/YYYY",cancelLabel:$(t).data("drp-all")?"View All":"Cancel"},showDropdowns:!0,autoUpdateInput:!$(t).data("drp-all")});$(t).data("drp-all")&&$(r).on("apply.daterangepicker",function(e,t){$(e.currentTarget).val(t.startDate.format("DD/MM/YYYY")+" - "+t.endDate.format("DD/MM/YYYY"))}).on("cancel.daterangepicker",function(e,t){$(e.currentTarget).val("")}),$(r).on("showCalendar.daterangepicker",function(t,n){var r=parseInt($(n.container).find(".left .yearselect").val()),c=$.map($(n.container).find(".right .yearselect")[0].options,function(e,t){return e.value}),a=Math.min.apply(Math,_toConsumableArray(c));if(r<a)for(e=a-r;e>0;e--)$(n.container).find(".right .yearselect").prepend(new Option(r+e-1,r+e-1))})})}}}),define("filter.module.simpleselect",["select2","cache"],function(e,t){return{simpleselect:function(e){e.each(function(e,t){var n=$(t).select2({minimumResultsForSearch:10});n.val(n.data("value")).trigger("change")})}}}),define("filter.module.groupselect",["select2"],function(e){return{groupselect:function(e){e.each(function(e,t){$(t).select2({dropdownAutoWidth:!0,allowClear:!1,closeOnSelect:!1,minimumResultsForSearch:-1,dropdownCssClass:"select2-container--multiple"}).on("select2:unselecting",function(e){$(e.params.args.originalEvent.currentTarget).hasClass("select2-results__option")&&e.preventDefault()}).on("select2:selecting",function(e){$(e.params.args.data.element).parent("optgroup").find(":selected").prop("selected",!1),$(t).trigger("change")})})}}}),define("filter.module.selectbasis",["select2","cache"],function(e,t){return{selectbasis:function(e){t("basis","/filter/basis").done(function(t){e.select2({placeholder:"ALL PRICE BASIS",data:$.map(t,function(e){return e.id=e.code,e.text=e.code+" - "+e.description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code:e.text}}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{"data-id":$(e.currentTarget).attr("id"),class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL PRICE BASIS").prependTo(".select2-dropdown")});e.data("value")&&e.val(e.data("value")).trigger("change")})},selectlocalbasis:function(e){t("basis","/filter/basis").done(function(t){t=$.grep(t,function(e){return 1==e.is_local});e.select2({placeholder:"ALL PRICE BASIS",data:$.map(t,function(e){return e.id=e.code,e.text=e.code+" - "+e.description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code:e.text}}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{"data-id":$(e.currentTarget).attr("id"),class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL PRICE BASIS").prependTo(".select2-dropdown")});e.data("value")&&e.val(e.data("value")).trigger("change")})},selectforeignbasis:function(e){t("basis","/filter/basis").done(function(t){t=$.grep(t,function(e){return 0==e.is_local});e.select2({placeholder:"ALL PRICE BASIS",data:$.map(t,function(e){return e.id=e.code,e.text=e.code+" - "+e.description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code:e.text}}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{"data-id":$(e.currentTarget).attr("id"),class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL PRICE BASIS").prependTo(".select2-dropdown")});e.data("value")&&e.val(e.data("value")).trigger("change")})}}}),define("filter.module.selectpackings",["select2","cache"],function(e,t){return{selectpackings:function(e){t("packing","/filter/packing").done(function(t){var n=e.select2({data:$.map(t,function(e){return e.id=e.code,e.text=e.code+" - "+e.description,e}),dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.description:e.text}});$(n).val($(n).data("value")).trigger("change")})}}}),define("filter.module.selectcurrencies",["select2","cache"],function(e,t){return{selectcurrencies:function(e){t("currencies","/filter/currencies").done(function(t){var n=e.select2({placeholder:"ALL CURRENCIES",dropdownAutoWidth:!0,minimumResultsForSearch:-1,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="code">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code+" - "+e.description:e.text},data:t}).on("select2:open",function(e){void 0!==$(e.currentTarget).data("all")&&0==$(e.currentTarget).data("all")||($("span.select2-reset").remove(),$("<span />",{"data-id":$(e.currentTarget).attr("id"),class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL CURRENCIES").prependTo(".select2-dropdown"))});n.data("value")&&n.val(n.data("value")).trigger("change")})}}}),define("filter.module.selectlicensee",["select2","cache"],function(e,t){return{selectlicensee:function(e){var t=e.select2({placeholder:0==e.data("placeholder")?"ALL - ALL LICENSEE":e.data("placeholder"),ajax:{id:"id",url:"/filter/licensees",dataType:"json",delay:250,data:function(e){return{search:e.term,page:e.page||1}},processResults:function(e,t){return t.page=t.page||1,{results:e.data,pagination:{more:50*t.page<e.total}}},cache:!0},minimumInputLength:3,dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="license-no">'+(null!=e.last_license_no?e.last_license_no.license_no:"")+'</span> - <span class="name">'+e.company_name+"</span></div>"},templateSelection:function(e){return e.last_license_no?e.last_license_no.license_no+" - "+e.company_name:e.text}}).on("select2:open",function(e){void 0!==$(e.currentTarget).data("all")&&0==$(e.currentTarget).data("all")||($("span.select2-reset").remove(),$("<span />",{class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL - ALL LICENSEE").prependTo(".select2-dropdown"))});t.data("value")&&$.getJSON("/filter/licensees",{search:t.data("value")},function(e){var n=e.data[0],r=n.last_license_no?n.last_license_no.license_no+" - "+n.company_name:n.company_name;t.append(new Option(r,t.data("value"),!0,!0)),t.val(t.data("value")).trigger("change")})}}}),define("filter.module.selectusers",["select2","cache"],function(e,t){return{selectusers:function(e){e.select2({placeholder:0==e.data("placeholder")?"ALL - ALL USERS":e.data("placeholder"),ajax:{id:"id",url:"/filter/users",dataType:"json",delay:250,data:function(e){return{search:e.term,page:e.page||1}},processResults:function(e,t){return t.page=t.page||1,{results:e.data,pagination:{more:10*t.page<e.total}}},cache:!0},minimumInputLength:3,dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:e.username+" - "+e.company.company_name},templateSelection:function(e){return e.username?e.username+" - "+e.company.company_name:e.text}}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL USERS").prependTo(".select2-dropdown")})}}}),define("filter.module.selectports",["select2","cache"],function(e,t){return{selectports:function(e){t("ports","/filter/ports").done(function(t){e.select2({placeholder:"ALL PORTS",dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="code">'+e.code+'</span> - <span class="short_description">'+e.short_description+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code+" - "+e.description:e.text},data:$.map(t,function(e){return e.id=e.id||e.code,e.text=e.code+" "+e.description+" "+e.short_description,e})}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL PORTS").prependTo(".select2-dropdown")})})}}}),define("filter.module.selectproducts",["select2","cache"],function(e,t){return{selectproducts:function(e){t("products","/filter/products").done(function(t){var n=e.select2({placeholder:"ALL PRODUCTS",dropdownAutoWidth:!0,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="code">'+e.code+'</span> - <span class="short_description">'+e.short_description+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code+" - "+e.description:e.text},data:$.map(t,function(e){return e.id=e.id||e.code,e.text=e.code+" "+e.description+" "+e.short_description,e})}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL PRODUCTS").prependTo(".select2-dropdown")});n.data("value")&&n.val(n.data("value")).trigger("change")})}}}),define("filter.module.selectregions",["select2","cache"],function(e,t){return{selectregions:function(e){t("regions","/filter/regions").done(function(t){var n=e.select2({placeholder:"Select Region",dropdownAutoWidth:!0,minimumResultsForSearch:-1,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code+" - "+e.description:e.text},data:$.map(t,function(e){return e.id=e.id||e.code,e.text=e.code+" "+e.description,e})}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{"data-id":$(e.currentTarget).attr("id"),class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL REGIONS").prependTo(".select2-dropdown")});n.data("value")&&n.val(n.data("value")).trigger("change")})},selectregionsnoncontinent:function(e){t("regions","/filter/regions").done(function(t){t=$.grep(t,function(e){return"MYS-P"!=e.code&&"MYS-B"!=e.code});var n=e.select2({placeholder:"Select Region",dropdownAutoWidth:!0,minimumResultsForSearch:-1,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="short_description">'+e.code+'</span> - <span class="description">'+e.description+"</span></div>"},templateSelection:function(e){return e.code?e.code+" - "+e.description:e.text},data:$.map(t,function(e){return e.id=e.id||e.code,e.text=e.code+" "+e.description,e})}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{"data-id":$(e.currentTarget).attr("id"),class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL REGIONS").prependTo(".select2-dropdown")});n.data("value")&&n.val(n.data("value")).trigger("change")})}}}),define("filter.module.selectroles",["select2","cache"],function(e,t){return{selectroles:function(e){e.hasClass("superroles")?t("superroles","/filter/superroles").done(function(t){var n=e.select2({placeholder:"ALL ROLES",dropdownAutoWidth:!0,minimumResultsForSearch:-1,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="description">'+e.text+"</span></div>"},templateSelection:function(e){return e.text},data:t}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{"data-id":$(e.currentTarget).attr("id"),class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL ROLES").prependTo(".select2-dropdown")});n.data("value")&&n.val(n.data("value")).trigger("change")}):t("roles","/filter/roles").done(function(t){var n=e.select2({placeholder:"ALL ROLES",dropdownAutoWidth:!0,minimumResultsForSearch:-1,escapeMarkup:function(e){return e},templateResult:function(e){return e.loading?e.text:'<div><span class="description">'+e.text+"</span></div>"},templateSelection:function(e){return e.text},data:t}).on("select2:open",function(e){$("span.select2-reset").remove(),$("<span />",{"data-id":$(e.currentTarget).attr("id"),class:"select2-reset",click:function(){$(e.currentTarget).val(null).trigger("change").select2("close")}}).html("ALL ROLES").prependTo(".select2-dropdown")});n.data("value")&&n.val(n.data("value")).trigger("change")})}}});
